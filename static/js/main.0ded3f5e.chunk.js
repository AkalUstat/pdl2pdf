(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,a,t){},231:function(e,a,t){e.exports=t.p+"static/media/cover.a303f64d.jpeg"},233:function(e,a,t){e.exports=t(500)},238:function(e,a,t){},248:function(e,a){},250:function(e,a){},270:function(e,a){},498:function(e,a,t){},499:function(e,a,t){},500:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(211),l=t.n(o),i=(t(238),t(125),t(30)),s=t(31),c=t(33),u=t(32),d=t(77),g=t(34),p=t(212),m=(t(13),t(49)),h=t.n(m),f=t(76),b=t.n(f),w=t(213),v=t.n(w),E=t(214),j=t(124),P=(t(498),t(231)),y=t.n(P),D=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={show:!1},t.onShow=function(){t.setState({show:!0})},t.onHide=function(){t.setState({show:!1})},t}return Object(g.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"component-header"},r.a.createElement("div",{className:"component-header-title"},"pdl2pdf ~ Panjab Digital Library to PDF Converter"),r.a.createElement("h2",null,"download image galleries from ",r.a.createElement("a",{href:"http://panjabdigilib.org"},"punjabdigilib.org")," onto a single PDF file"),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"\u0a2a\u0a41\u0a70\u0a1c\u0a3e\u0a2c \u0a21\u0a3f\u0a1c\u0a3f\u0a1f\u0a32 \u0a32\u0a3e\u0a08\u0a2c\u0a4d\u0a30\u0a47\u0a30\u0a40 (Panjab Digital Library) \u0a07\u0a15 \u0a05\u0a2e\u0a4b\u0a32\u0a15 \u0a16\u0a1c\u0a3e\u0a28\u0a3e \u0a39\u0a48 \u0a1c\u0a3f\u0a38 \u0a26\u0a47 \u0a30\u0a3e\u0a39\u0a40\u0a02 \u0a2a\u0a41\u0a30\u0a3e\u0a24\u0a28 \u0a1c\u0a3e\u0a02 \u0a28\u0a35\u0a40\u0a28 \u0a17\u0a4d\u0a30\u0a70\u0a25\u0a3e\u0a02, \u0a2a\u0a41\u0a38\u0a24\u0a15\u0a3e\u0a02 \u0a05\u0a24\u0a47 \u0a39\u0a4b\u0a30 \u0a32\u0a47\u0a16\u0a3e\u0a02 \u0a26\u0a40 \u0a38\u0a70\u0a2c\u0a3e\u0a32 \u0a15\u0a40\u0a24\u0a40 \u0a17\u0a08 \u0a39\u0a48, \u0a05\u0a24\u0a47 ",r.a.createElement("a",{href:"http://panjabdigilib.org"},"punjabdigilib.org")," \u0a35\u0a48\u0a2c\u0a38\u0a3e\u0a08\u0a1f \u0a30\u0a3e\u0a39\u0a40\u0a02 \u0a15\u0a4b\u0a08 \u0a35\u0a40 \u0a26\u0a30\u0a36\u0a28 \u0a15\u0a30 \u0a38\u0a71\u0a15\u0a26\u0a3e\u0964 \u0a2a\u0a30 \u0a15\u0a41\u0a71\u0a1d \u0a32\u0a47\u0a16 \u0a1c\u0a4b \u0a38\u0a3f\u0a30\u0a2b \u0a24\u0a38\u0a35\u0a40\u0a30\u0a3e\u0a02 \u0a26\u0a47 \u0a30\u0a42\u0a2a \u0a35\u0a3f\u0a1a \u0a39\u0a28, \u0a13\u0a39\u0a4b \u0a32\u0a47\u0a16 \u0a38\u0a4c\u0a16\u0a47 \u0a24\u0a30\u0a40\u0a15\u0a47 \u0a28\u0a3e\u0a32 \u0a26\u0a3e\u0a0a\u0a28\u0a32\u0a4b\u0a21\u0a3e\u0a02 \u0a28\u0a39\u0a40 \u0a15\u0a30 \u0a38\u0a71\u0a15\u0a26\u0a47\u0964 \u0a13\u0a38 \u0a15\u0a3e\u0a30\u0a23, \u0a07\u0a38 \u0a35\u0a48\u0a2c\u0a38\u0a3e\u0a08\u0a1f \u0a35\u0a3f\u0a1a \u0a32\u0a3f\u0a70\u0a15 \u0a2a\u0a3e \u0a15\u0a47, PDF \u0a26\u0a47 \u0a30\u0a42\u0a2a \u0a35\u0a3f\u0a1a \u0a26\u0a4b\u0a3e\u0a28\u0a32\u0a4b\u0a73\u0a26 \u0a15\u0a30 \u0a32\u0a4b \u0a1c\u0a40\u0964"),r.a.createElement("br",null),r.a.createElement("p",null,"Panjab Digital Library is an invaluable collection of old and new manuscripts that have been digitized and preserved. However, not all of the content is easily downloadable. This utility can be used to convert image galleries for manuscripts that are missing a PDF download link. Simply paste the link of a manuscript that you would like to download and a PDF will be generated.")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:y.a,alt:"puratan SriDasamGranthSahibJee saroop pehila ang",width:"200"}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"DISCLAIMER:")," This website downloads and compiles image data that is freely available on www.panjabdigilib.org. The website does not store any data on its own servers."),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"*** \u0a1c\u0a30\u0a42\u0a30\u0a40 \u0a2c\u0a47\u0a28\u0a24\u0a40: \u0a15\u0a08 \u0a26\u0a3e\u0a0a\u0a28\u0a32\u0a4b\u0a21\u0a3e\u0a02 \u0a28\u0a42\u0a70 \u0a16\u0a71\u0a24\u0a2e \u0a39\u0a4b\u0a28 \u0a32\u0a08 \u0a15\u0a41\u0a71\u0a1d \u0a2e\u0a3f\u0a70\u0a1f \u0a32\u0a17 \u0a38\u0a71\u0a15\u0a26\u0a47 \u0a39\u0a28\u0964")),r.a.createElement("p",null,r.a.createElement("b",null,"***Important: The program may take several minutes to complete for large files, please be patient!")),r.a.createElement("p",null,"(DO NOT close the browser if the loading bar appears to freeze on the last panna. You can right-click and select 'Inspect Element' and then 'Console' to view progress.)")))}}]),a}(n.Component),k=(t(499),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleChange=function(e){t.props.textChange(e)},t}return Object(g.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"component-pdl-input"},r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Paste a URL link to the manuscript, ex: http://panjabdigilib.org/webuser/searches/displayPage.jsp?ID=8497&page=1&CategoryID=1",onChange:this.handleChange})),r.a.createElement("div",{className:"component-pdl-user-message"},this.props.outputLink)))}}]),a}(r.a.PureComponent)),O=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).add=function(e){t.setState({loadingBarProgress:t.state.loadingBarProgress+e})},t.updateValue=function(e){t.setState({loadingBarProgress:e})},t.complete=function(){t.setState({loadingBarProgress:100})},t.onLoaderFinished=function(){t.setState({loadingBarProgress:0})},t.handleInputChange=function(e){var a=Object(d.a)(t);t.add(1);var n=h.a.parse(e.target.value,!0),r=n.host,o=n.query.ID;if("panjabdigilib.org"!==r||null==o)t.setState({userMessage:"Please enter a valid URL from www.panjabdigilib.org"});else{var l="https://cors-sikhutils.herokuapp.com/http://".concat("panjabdigilib.org","/webuser/searches/displayPage.jsp?ID=").concat(o,"&page=1&CategoryID=1"),i=null,s="untitled",c=1,u=0,g=[];b.a.get(l,function(e){var t,n=e.statusCode;if(200!==n&&(t=new Error("request failed, status code: ".concat(n))),t)return console.error(t.message),void e.resume();var r="";e.on("data",function(e){r+=e}),e.on("end",function(){try{var e=v.a.load(r);s=e('a[title*="on Panjab Digital Library"]').text(),i=e("td").filter(function(){return"Pages"===e(this).text().trim()}).next().text(),c=u=parseInt(i);for(var t=function(e){var t="https://cors-sikhutils.herokuapp.com/http://panjabdigilib.org/images?ID=".concat(o,"&page=").concat(e,"&pagetype=null");j.a.read(t).then(function(t){t.getBase64(j.a.MIME_PNG,function(t,n){if(null!=t)console.log("error downloading image");else if(console.log("Processing images... ".concat(u,"/").concat(c," \u0a2a\u0a28\u0a47 left.")),g[e]=n,u-=1,a.setState({userMessage:"Processing images... ".concat(u,"/").concat(c," \u0a2a\u0a28\u0a47 left. This may take a while."),loadingBarProgress:100*(1-u/c)-1}),0===u){console.log("Finished processing. Generating PDF...");for(var r=Math.floor(c/2),l=new E("p","mm","a4",!0),i=l.getImageProperties(g[r]),d=l.internal.pageSize.getWidth(),p=i.height*d/i.width,m=1;m<=c;m++)l.addImage(g[m],"PNG",0,0,d,p,"","FAST"),l.addPage();console.log("Downloading PDF..."),a.setState({userMessage:"Downloading PDF..."}),l.save("".concat(o,"-").concat(s,".pdf")),a.setState({userMessage:"Download complete. "}),a.complete()}})}).catch(function(e){console.log("error fetching image")})},n=1;n<=c;n++)t(n)}catch(l){console.error("error parsing request: ".concat(l.message))}})}).on("error",function(e){console.error("network request error: ".concat(e.message))}),t.setState({userMessage:"Loading webpage..."})}},t.state={url:"",userMessage:"",loadingBarProgress:0},t}return Object(g.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p.a,{progress:this.state.loadingBarProgress,height:5,color:"#00d8ff",onLoaderFinished:function(){return e.onLoaderFinished()}}),r.a.createElement(D,null),r.a.createElement(k,{textChange:this.handleInputChange,outputLink:this.state.userMessage}))}}]),a}(r.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement("div",{className:"guca"},r.a.createElement("header",{className:"guca-header"},r.a.createElement(O,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[233,1,2]]]);
//# sourceMappingURL=main.0ded3f5e.chunk.js.map